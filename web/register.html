<html lang="en">
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<head>
		<BASE HREF="" />

		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="description" content="{WebDescripcion}">
		<meta name="keywords" content="{keywords}">
		<meta name="robots" content="index,follow,noodp,noydir">
		<title>Maple社区 | 邀请码</title>
		<meta property="og:title" content="Kaotic">
		<meta property="og:type" content="article">
		<meta property="og:url" content="https://mastermaple.com/">
		<meta property="og:image" content="https://mastermaple.com/img/slider2.png">
		<meta property="og:site_name" content="Kaotic">
		<meta property="og:description" content="Enjoy the old maplestory with several custom functions that changes the way you play kaotically">
		<link rel="icon" href="../img/favicon.ico">
		<link rel="stylesheet" type="text/css" href="../css/banner-styles2d4a.css?v=omkqRugM" />
		<link rel="stylesheet" type="text/css" href="../css/iconochive8307.css?v=qtvMKcIJ" />
		<link href="../css/gnb_cdn_http_white.css" rel="stylesheet" type="text/css">
		<link href="../css/common.css" rel="stylesheet" />
		<link href="../css/Notice.css" rel="stylesheet" />
		<link href="../layui/css/layui.css" rel="stylesheet">
		<script src="../layui/layui.js"></script>
		<script src="../js/jquery-2.1.4.min.js"></script>
		<script src="../js/jquery.easing.1.3.js"></script>
		<script src="../js/jquery.colorbox-1.4.27.min.js"></script>
		<script src="../js/swiper.min.js"></script>
		<script src="../js/jquery.placeholder.min.js"></script>
		<script src="../js/jquery.cookie.js"></script>
		<script src="../js/Common.js"></script>
		<script src="../js/npf_auth_c.js" type="text/javascript"></script>
		<script src="../js/NGMModuleInfo.js" type="text/javascript"></script>
		<script src="../js/npf_ngm.js" type="text/javascript"></script>

	</head>
	<body class="night">
		<style type="text/css">
			body {
				margin-top: 0 !important;
				padding-top: 0 !important;
			}

			.sub .side-menu {
				top: 110px;
			}

			.list .entry01 h3 {
				background: url(../img/loading/zczh_loading.png) no-repeat 0 0;
				height: 50px;
				margin: 10px auto 30px;
			}

			.half {
				width: 50%;
				text-align: initial;
				float: left;
			}

			button {
				height: 25px !important;
				font-size: 12px !important;
				margin-top: 20px !important;
			}

			input,
			select {
				height: 30px !important;
				font-size: 12px !important;
				margin-top: 2px !important;
			}

			span {
				font-size: 12px;
			}

			.sub aside .btn-login {
				left: 35px !important;
			}

			.sub aside .btn-regist {
				left: 35px !important;
			}

			input[type=text],
			input[type=password] {
				border: solid 1px #eee;
			}
		</style>
		<div class="wrapper">
			<header>
				<h1><a href="../">Maple社区</a></h1>
				<nav>
					<ul>
						<li class="menu01">
							<a href="../index.html">Inicio</a>
						</li>
						<li class="menu02">
							<a href="../download.html">Downloads</a>
						</li>
						<li class="menu03">
							<a href="../ranking.html">Ranking</a>
						</li>
						<li class="menu04">
							<a href="../web/topsites.html"></a>
						</li>
						<li class="menu05">
							<a href="javascript:;" onclick="layui.layer.msg('功能正在开发')">More</a>
						</li>
					</ul>
				</nav>
			</header>

			<div class="container">
				<article class="list">
					<div class="section entry01" id="anc01">
						<div class="inner" id="noticeList">
							<div class="search-box">
								<p class="btn-search"><a href="javascript:void(0);" onclick="history.back()">return</a>
								</p>
								<input type="text" style="display:none;" value="1" name="setpage" id="setpage">
							</div>
							<h3>Noticia</h3>
							<div class="notice-area" id="notice-area">
								<div style="height:auto;">
									<span>注册账号</span><br>
									<ul class="latest">
										<li>
											<div class="site-text site-block">
												<div class="layui-form-item">
													<label class="layui-form-label">账号</label>
													<div class="layui-input-inline">
														<input type="input" id="name" required lay-verify="required" placeholder="请输入账号" autocomplete="off" class="layui-input">
													</div>
												</div>
												<div class="layui-form-item">
													<label class="layui-form-label">密码</label>
													<div class="layui-input-inline">
														<input type="input" id="password" required lay-verify="required" placeholder="请输入密码" autocomplete="off" class="layui-input">
													</div>
												</div>
												<div class="layui-form-item">
													<div class="layui-inline">
														<label class="layui-form-label">邮箱</label>
														<div class="layui-input-inline">
															<input type="input" id="email" required lay-verify="required" placeholder="请输入邮箱" autocomplete="off" class="layui-input">
														</div>
													</div>
													<div class="layui-inline">
														<div class="layui-input-inline">
															<a href="javascript:;" class="layui-btn layui-btn-sm layui-btn-primary" id="getEmailCode">获取邮箱验证码</a>
														</div>
													</div>
												</div>
<!--												<div class="layui-form-item">-->
<!--													<label class="layui-form-label">注册码</label>-->
<!--													<div class="layui-input-inline">-->
<!--														<input type="input" id="regCode" required lay-verify="required" placeholder="请输入注册码" autocomplete="off" class="layui-input">-->
<!--													</div>-->
<!--												</div>-->
												<div class="layui-form-item">
													<label class="layui-form-label">邀请码</label>
													<div class="layui-input-inline">
														<input type="input" id="code" required lay-verify="required" placeholder="请输入邀请码(可不填)" autocomplete="off" class="layui-input">
													</div>
												</div>
												<div class="layui-form-item">
													<label class="layui-form-label">邮箱验证码</label>
													<div class="layui-input-inline">
														<input type="input" id="emailCode" required lay-verify="required" placeholder="请输入邮箱验证码" autocomplete="off" class="layui-input">
													</div>
												</div>
												<div class="layui-form-item">
													<div class="layui-form-label layui-input-inline">
														<a href="javascript:;" class="layui-btn layui-btn-sm layui-btn-primary" id="submitBtn">确定</a>
													</div>
												</div>
											</div>

										</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</article>
			</div>

			<footer>
			</footer>

		</div>

		<script type="text/javascript">
			$(document).ready(function() {
				// 获取邮箱验证码
				$("#getEmailCode").click(function() {
					var email = $("#email").val();
					if (null == email || email.length <= 0) {
						layer.alert("邮箱不能为空!");
						return;
					}
					$.ajax({
						contentType: 'application/json',
						type: 'POST',
						url: "/loginServer/account/code",
						dataType: "json",
						data: JSON.stringify({
							email: email,
							codeType: "REGISTER"
						}),
						success: function(message) {
							if (message.statusCode == 0) {
								layer.alert("获取成功.");
							} else {
								layer.alert(message.message);
							}
						}
					});
				});

				//获取手机验证码
				/* $("#getPhoneCode").click(function () {
				   var phone = $("#phone").val();
				    if (null == phone || phone.length <= 0) {
				        layer.alert("手机不能为空!");
				        return;
				    }
				    $.ajax({
				        contentType: 'application/json',
				        type: 'POST',
				        url: "/account/code/phone",
				        dataType: "json",
				        data: JSON.stringify({phone: phone, codeType: "REGISTER"}),
				        success: function (message) {
				            if (message.statusCode == 0) {
				                layer.alert("获取成功.");
				            } else {
				                layer.alert(message.message);
				            }
				        }
				    });
				}); */

				$("#submitBtn").click(function() {
					var name = $("#name").val();
					if (null == name || name.length <= 0) {
						layer.alert("账号不能为空!");
						return;
					}
					var password = $("#password").val();
					if (null == password || password.length <= 0) {
						layer.alert("密码不能为空!");
						return;
					}
					var email = $("#email").val();
					if (null == email || email.length <= 0) {
						layer.alert("邮箱不能为空!");
						return;
					}
					var phone = $("#phone").val();
					// if (null == phone || phone.length <= 0){
					//     layer.alert("手机不能为空!");
					//     return;
					// }
					var regCode = $("#regCode").val();
//					if (null == regCode || regCode.length <= 0) {
//						layer.alert("注册码不能为空!");
//						return;
//					}
					var code = $("#code").val();
					var emailCode = $("#emailCode").val();
					if (null == emailCode || emailCode.length <= 0) {
						layer.alert("邮箱验证码不能为空!");
						return;
					}
					var phoneCode = $("#phoneCode").val();
					// if (null == phoneCode || phoneCode.length <= 0){
					//      layer.alert("手机验证码不能为空!");
					//      return;
					//  }

					var agent = getQueryString('inviter');
					var data;
					if (agent != null) {
						data = {
							name: name,
							password: password,
							email: email,
							regCode: regCode,
							//phone:phone,
							code: code,
							verifyCode: emailCode,
							//verifyCodePhone: phoneCode,
							agent: agent
						}
					} else {
						data = {
							name: name,
							password: password,
							email: email,
							regCode: regCode,
							//phone:phone,
							code: code,
							verifyCode: emailCode
							//verifyCodePhone:phoneCode
						}
					}
					$.ajax({
						contentType: 'application/json',
						type: 'POST',
						url: "/loginServer/account/register",
						dataType: "json",
						data: JSON.stringify(data),
						success: function(message) {
							if (message.statusCode == 0) {
								layer.alert("注册成功.");
							} else {
								layer.alert(message.message);
							}
						}
					});
				});
			});

			//获取地址栏参数
			function getQueryString(name) {
				const reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
				const urlObj = window.location;
				var r = urlObj.href.indexOf('#') > -1 ? urlObj.hash.split("?")[1].match(reg) : urlObj.search.substr(1).match(
					reg);
				if (r != null) return unescape(r[2]);
				return null;
			}
		</script>
	</body>
</html>
